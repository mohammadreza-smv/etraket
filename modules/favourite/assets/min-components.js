(self.webpackChunk=self.webpackChunk||[]).push([['favourite'],{'favourite_component':(t,e,n)=>{Vue.component("favorite-list",n(9788).Z),Vue.component("mobile-favorite-list",n(7461).Z),Vue.component("favorite-short-code",n(1153).Z)},5763:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i={methods:{number_format:function(t){for(var e="",n=0,i=(t=t.toString()).length-1;i>=0;i--)e+=t[i],3==++n&&(e+=",",n=0);return e.split("").reverse().join("")},replaceNumber:function(t){if(void 0!==t){t=t.toString();for(var e=["0","1","2","3","4","5","6","7","8","9"],n=["۰","۱","۲","۳","۴","۵","۶","۷","۸","۹"],i=0;i<e.length;i++)t=t.replace(new RegExp(e[i],"g"),n[i]);return t}},getScoreValue:function(t){var e=0;return t.score_count>0&&(e=t.score/(6*t.score_count)),e*=20},show_product:function(t){var e=this.shop_product_url;e=(e=e.replace(":id",t.id)).replace(":product_url",t.product_url),this.$root.$emit("send_get_request",e)},getImageUrl:function(){return this.$siteUrl+"/modules/favourite/stars.png"}}}},1513:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var i=n(3645),o=n.n(i)()((function(t){return t[1]}));o.push([t.id,".alert-div{\n    padding-top: 30px;\n    padding-bottom:10px;\n    font-weight: 600;\n    font-size: 20px;\n    text-align: center;\n    color: black;\n    letter-spacing: normal;\n}\n.score{\n    display: flex;\n    margin-top: 10px;\n    margin-bottom: 10px;\n}\n.gray{\n    width: 100px;\n    height: 14px;\n    margin-right: 5px;\n    background-position-x: 0px;\n    background-position-y: -14px;\n    background-repeat: repeat-x;\n    direction:ltr;\n}\n.score .score-size{\n    height: 14px;\n    background-position-x: 0px;\n    background-position-y: 0px;\n    background-repeat: repeat-x;\n}\n.favorite_product img {\n    width: 100px;\n    margin-left: 10px;\n}\n.favorite_footer {\n    display: flex;\n    justify-content: flex-end;\n    padding-top: 10px;\n}\n.favorite_footer .v-btn{\n    font-size: 13px !important;\n    letter-spacing: normal !important;\n    margin-right: 10px !important;\n}\n.favorite_product {\n    font-size: 12px;\n    display: flex;\n    border-bottom: 1px solid #e2e2e2;\n    padding:20px 0px;\n}\n.favorite-loading-logo{\n    width:110px;\n    display: block;\n    padding-top: 20px;\n    margin: auto;\n}\n",""]);const a=o},491:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(3645),o=n.n(i),a=n(1513),r=o()((function(t){return t[1]}));r.i(a.Z),r.push([t.id,"",""]);const s=r},7167:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(3645),o=n.n(i),a=n(1513),r=o()((function(t){return t[1]}));r.i(a.Z),r.push([t.id,"",""]);const s=r},3645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,i){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(i)for(var a=0;a<this.length;a++){var r=this[a][0];null!=r&&(o[r]=!0)}for(var s=0;s<t.length;s++){var c=[].concat(t[s]);i&&o[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},3379:(t,e,n)=>{"use strict";var i,o=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},a=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),r=[];function s(t){for(var e=-1,n=0;n<r.length;n++)if(r[n].identifier===t){e=n;break}return e}function c(t,e){for(var n={},i=[],o=0;o<t.length;o++){var a=t[o],c=e.base?a[0]+e.base:a[0],l=n[c]||0,d="".concat(c," ").concat(l);n[c]=l+1;var u=s(d),p={css:a[1],media:a[2],sourceMap:a[3]};-1!==u?(r[u].references++,r[u].updater(p)):r.push({identifier:d,updater:f(p,e),references:1}),i.push(d)}return i}function l(t){var e=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var o=n.nc;o&&(i.nonce=o)}if(Object.keys(i).forEach((function(t){e.setAttribute(t,i[t])})),"function"==typeof t.insert)t.insert(e);else{var r=a(t.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(e)}return e}var d,u=(d=[],function(t,e){return d[t]=e,d.filter(Boolean).join("\n")});function p(t,e,n,i){var o=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=u(e,o);else{var a=document.createTextNode(o),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(a,r[e]):t.appendChild(a)}}function v(t,e,n){var i=n.css,o=n.media,a=n.sourceMap;if(o?t.setAttribute("media",o):t.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var g=null,h=0;function f(t,e){var n,i,o;if(e.singleton){var a=h++;n=g||(g=l(e)),i=p.bind(null,n,a,!1),o=p.bind(null,n,a,!0)}else n=l(e),i=v.bind(null,n,e),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else o()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=o());var n=c(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<n.length;i++){var o=s(n[i]);r[o].references--}for(var a=c(t,e),l=0;l<n.length;l++){var d=s(n[l]);0===r[d].references&&(r[d].updater(),r.splice(d,1))}n=a}}}},9788:(t,e,n)=>{"use strict";n.d(e,{Z:()=>d});const i={name:"FavoritePagination",data:function(){return{last:0}},props:{pagination:{type:Object,required:!0},offset:{type:Number,default:4}},computed:{pagesNumber:function(){if(!this.pagination.to)return[];var t=this.pagination.current_page-this.offset;t<1&&(t=1);var e=t+2*this.offset;e>=this.pagination.last_page&&(e=this.pagination.last_page);for(var n=[],i=t;i<=e;i++)n.push(i);return n}},methods:{changePage:function(t){this.pagination.current_page=t,this.$emit("paginate",t)},replaceNumber:function(t){if(void 0!==t){t=t.toString();for(var e=["0","1","2","3","4","5","6","7","8","9"],n=["۰","۱","۲","۳","۴","۵","۶","۷","۸","۹"],i=0;i<e.length;i++)t=t.replace(new RegExp(e[i],"g"),n[i]);return t}}}};var o=n(1900);const a={components:{FavoritePagination:(0,o.Z)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.pagesNumber.length>1?n("ul",{staticClass:"pagination"},[t.pagination.current_page>1?n("li",{staticClass:"page-item"},[n("a",{staticClass:"page-link",attrs:{"aria-label":"Previous"},on:{click:function(e){return e.preventDefault(),t.changePage(t.pagination.current_page-1)}}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]):t._e(),t._v(" "),t._l(t.pagesNumber,(function(e){return n("li",{key:e,class:[e==t.pagination.current_page?"page-item active":"page-item"]},[n("a",{staticClass:"page-link",on:{click:function(n){return n.preventDefault(),t.changePage(e)}}},[t._v(t._s(t.replaceNumber(e)))])])})),t._v(" "),t.pagination.last_page>t.pagesNumber[t.pagesNumber.length-1]?n("li",{staticClass:"page-item"},[n("a",{staticClass:"page-link"},[t._v("...")])]):t._e(),t._v(" "),t.pagination.last_page>t.pagesNumber[t.pagesNumber.length-1]?n("li",{class:[t.pagination.last_page==t.pagination.current_page?"page-item active":"page-item"]},[n("a",{staticClass:"page-link",on:{click:function(e){return e.preventDefault(),t.changePage(t.pagination.last_page)}}},[t._v(t._s(t.replaceNumber(t.pagination.last_page)))])]):t._e(),t._v(" "),t.pagination.current_page<t.pagination.last_page?n("li",{staticClass:"page-item"},[n("a",{staticClass:"page-link",on:{click:function(e){return e.preventDefault(),t.changePage(t.pagination.current_page+1)}}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])]):t._e()],2):t._e()}),[],!1,null,null,null).exports},name:"FavoriteList",data:function(){return{FavoriteList:{data:[]},remove_id:0,show_dialog_box:!1,sendRequest:!0}},props:["shop_product_url"],mixins:[n(5763).Z],mounted:function(){this.getList()},methods:{getList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.sendRequest=!0,this.FavoriteList={data:[]};var n=this.$siteUrl+"/user/getFavoriteList?page="+e;this.axios.get(n).then((function(e){t.sendRequest=!1,t.FavoriteList=e.data})).catch((function(e){t.sendRequest=!1}))},remove_of_list:function(t){this.remove_id=t,this.show_dialog_box=!0},approve:function(){var t=this;this.show_dialog_box=!1,this.sendRequest=!0;var e=this.$siteUrl+"/user/favorite/list/remove",n=new FormData;n.append("product_id",this.remove_id),this.axios.post(e,n).then((function(e){t.sendRequest=!1,t.FavoriteList=e.data})).catch((function(e){t.sendRequest=!1}))}}};var r=n(3379),s=n.n(r),c=n(491),l={insert:"head",singleton:!1};s()(c.Z,l);c.Z.locals;const d=(0,o.Z)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"favorite_list"},[t._l(3,(function(e){return t.sendRequest?n("div",{key:e,staticStyle:{display:"flex","margin-bottom":"20px"}},[n("v-skeleton-loader",{attrs:{type:"image",width:"200px",height:"200px"}}),t._v(" "),n("v-skeleton-loader",{attrs:{width:"calc(100% - 200px)",type:"list-item-three-line"}})],1):t._e()})),t._v(" "),t._l(t.FavoriteList.data,(function(e){return n("div",{key:e.id,staticClass:"row"},[n("div",{staticClass:"col-3"},[n("div",{on:{click:function(n){return t.remove_of_list(e.product.id)}}},[n("v-icon",{attrs:{color:"red"}},[t._v("mdi-delete")])],1),t._v(" "),n("img",{attrs:{src:t.$siteUrl+"/files/thumbnails/"+e.product.image_url}})]),t._v(" "),n("div",{staticClass:"col-9"},[n("div",[n("a",{staticStyle:{color:"black"},on:{click:function(n){return t.show_product(e.product)}}},[t._v("\n                    "+t._s(e.product.title)+"\n                ")]),t._v(" "),n("div",{staticClass:"score"},[n("div",{staticClass:"gray",style:{backgroundImage:"url("+t.getImageUrl()+")"}},[n("div",{staticClass:"score-size",style:{width:t.getScoreValue(e.product)+"%",backgroundImage:"url("+t.getImageUrl()+")"}})])])]),t._v(" "),n("div",[1==e.product.status?n("span",{staticClass:"product_price"},[t._v("\n                    "+t._s(t.replaceNumber(t.number_format(e.product.price)))+" تومان\n                ")]):n("span",{staticClass:"product_price"},[-1==e.product.status?n("span",[t._v("توقف تولید")]):n("span",[t._v("ناموجود")])]),t._v(" "),n("v-btn",{attrs:{color:"primary"},on:{click:function(n){return t.show_product(e.product)}}},[t._v("\n                    مشاهده محصول\n                ")])],1)])])})),t._v(" "),n("favorite-pagination",{attrs:{pagination:t.FavoriteList,offset:5},on:{paginate:t.getList}}),t._v(" "),n("v-dialog",{attrs:{width:"450"},model:{value:t.show_dialog_box,callback:function(e){t.show_dialog_box=e},expression:"show_dialog_box"}},[n("v-card",[n("v-card-text",[n("div",{staticClass:"alert-div"},[t._v("\n                    آیا مطمئنید که این محصول از لیست مورد علاقه شما حذف شود؟\n                ")])]),t._v(" "),n("v-divider"),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{staticClass:"action-btn",attrs:{color:"success",text:""},on:{click:function(e){return t.approve()}}},[t._v("\n                    بله\n                ")]),t._v(" "),n("v-btn",{staticClass:"action-btn",attrs:{color:"error",text:""},on:{click:function(e){t.show_dialog_box=!1}}},[t._v("\n                    خیر\n                ")])],1)],1)],1),t._v(" "),!1===t.sendRequest&&0===t.FavoriteList.data.length?n("div",[n("p",{staticStyle:{"text-align":"center","padding-top":"30px","padding-bottom":"20px"}},[t._v("\n            محصولی به لیست علاقه مندی شما اضافه نشده\n        ")])]):t._e()],2)}),[],!1,null,null,null).exports},1153:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});const i={name:"FavoriteShortCode",props:["favorite","product_id"],data:function(){return{hasList:""}},mounted:function(){this.hasList=this.favorite},methods:{addToList:function(){var t=this,e=this.$siteUrl+"/user/add_favorite";this.$root.$emit("show_progress"),this.axios.post(e,{product_id:this.product_id}).then((function(e){"ok"===e.data&&(""===t.hasList?t.hasList="ok":t.hasList=""),t.$root.$emit("hide_progress")})).catch((function(e){401===e.response.status&&t.$root.$emit("show_desktop_login"),t.$root.$emit("hide_progress")}))}}};const o=(0,n(1900).Z)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",[n("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;e.attrs;return[n("div",{on:{click:function(e){return t.addToList()}}},[n("v-icon",t._g({attrs:{color:""===t.hasList?"gray":"red"}},i),[t._v("\n                    mdi-heart-outline\n                ")])],1)]}}])},[t._v(" "),n("span",[t._v("افزودن به علاقه مندی ها")])])],1)}),[],!1,null,null,null).exports},7461:(t,e,n)=>{"use strict";n.d(e,{Z:()=>c});const i={name:"MobileFavoriteList",mixins:[n(5763).Z],data:function(){return{FavoriteList:{data:[]},remove_id:0,show_dialog_box:!1,showLoading:!1,page:1,favorite_list_height:0,scroll_height:0,getServerData:!0,show_loading_box:!1,select_key:0,loading:!0}},props:["shop_product_url"],mounted:function(){this.getList(),this.scroll()},methods:{getList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.showLoading=!0;var n=this.$siteUrl+"/user/getFavoriteList?page="+e,i=this;this.axios.get(n).then((function(e){t.showLoading=!1,e.data.data.forEach((function(t){i.FavoriteList.data.push(t)})),0===e.data.data.length&&(t.getServerData=!1)})).catch((function(e){t.showLoading=!1}))},remove_of_list:function(t,e){this.remove_id=t,this.select_key=e,this.show_dialog_box=!0},approve:function(){var t=this;this.showLoading=!0,this.show_dialog_box=!1;var e=this.$siteUrl+"/user/favorite/list/remove?showMobile=ok",n=new FormData;n.append("product_id",this.remove_id),this.axios.post(e,n).then((function(e){t.showLoading=!1,"ok"===e.data&&t.$delete(t.FavoriteList.data,t.select_key)})).catch((function(e){t.showLoading=!1}))},scroll:function(){var t=this,e=this;window.onscroll=function(){Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop)+window.innerHeight===document.documentElement.offsetHeight&&e.getServerData&&!1===t.showLoading&&(t.page=t.page+1,t.getList(t.page))}}}};var o=n(3379),a=n.n(o),r=n(7167),s={insert:"head",singleton:!1};a()(r.Z,s);r.Z.locals;const c=(0,n(1900).Z)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"favorite_list"},[t._l(t.FavoriteList.data,(function(e,i){return n("div",{key:e.id,staticClass:"favorite_product"},[n("div",[n("img",{attrs:{src:t.$siteUrl+"/files/thumbnails/"+e.product.image_url}})]),t._v(" "),n("div",[n("a",{staticStyle:{color:"black"},on:{click:function(n){return t.show_product(e.product)}}},[t._v("\n                "+t._s(e.product.title)+"\n            ")]),t._v(" "),n("div",{staticClass:"score"},[n("div",{staticClass:"gray",style:{backgroundImage:"url("+t.getImageUrl()+")"}},[n("div",{staticClass:"score-size",style:{width:t.getScoreValue(e.product)+"%",backgroundImage:"url("+t.getImageUrl()+")"}})])]),t._v(" "),n("div",[1==e.product.status?n("span",{staticClass:"product_price"},[t._v("\n                          "+t._s(t.replaceNumber(t.number_format(e.product.price)))+" تومان\n                 ")]):n("span",{staticClass:"product_price"},[-1==e.product.status?n("span",[t._v("توقف تولید")]):n("span",[t._v("ناموجود")])])]),t._v(" "),n("div",{staticClass:"favorite_footer"},[n("v-btn",{attrs:{color:"primary"},on:{click:function(n){return t.show_product(e.product)}}},[t._v("\n                    مشاهده محصول\n                ")]),t._v(" "),n("v-btn",{attrs:{color:"error"},on:{click:function(n){return t.remove_of_list(e.product.id,i)}}},[t._v("\n                    حذف محصول\n                ")])],1)])])})),t._v(" "),n("v-dialog",{attrs:{width:"450"},model:{value:t.show_dialog_box,callback:function(e){t.show_dialog_box=e},expression:"show_dialog_box"}},[n("v-card",[n("v-card-text",[n("div",{staticClass:"alert-div"},[t._v("\n                    آیا مطمئنید که این محصول از لیست مورد علاقه شما حذف شود؟\n                ")])]),t._v(" "),n("v-divider"),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{staticClass:"action-btn",attrs:{color:"success",text:""},on:{click:function(e){return t.approve()}}},[t._v("\n                    بله\n                ")]),t._v(" "),n("v-btn",{staticClass:"action-btn",attrs:{color:"error",text:""},on:{click:function(e){t.show_dialog_box=!1}}},[t._v("\n                    خیر\n                ")])],1)],1)],1),t._v(" "),!1===t.showLoading&&0===t.FavoriteList.data.length?n("div",[n("p",{staticStyle:{"text-align":"center","padding-top":"30px","padding-bottom":"20px"}},[t._v("\n            محصولی به لیست علاقه مندی شما اضافه نشده\n        ")])]):t._e(),t._v(" "),n("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:t.showLoading,callback:function(e){t.showLoading=e},expression:"showLoading"}},[n("v-card",[n("v-card-text",[t._t("loading_box"),t._v(" "),n("div",{staticStyle:{padding:"30px 0px 10px 0px"}},[n("v-progress-linear",{attrs:{color:"red darken-1",indeterminate:"",rounded:"",height:"6"}})],1)],2)],1)],1)],2)}),[],!1,null,null,null).exports},1900:(t,e,n)=>{"use strict";function i(t,e,n,i,o,a,r,s){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),i&&(l.functional=!0),a&&(l._scopeId="data-v-"+a),r?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},l._ssrRegister=c):o&&(c=s?function(){o.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:o),c)if(l.functional){l._injectStyles=c;var d=l.render;l.render=function(t,e){return c.call(e),d(t,e)}}else{var u=l.beforeCreate;l.beforeCreate=u?[].concat(u,c):[c]}return{exports:t,options:l}}n.d(e,{Z:()=>i})}}]);
